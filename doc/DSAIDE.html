<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Andreas Handel" />

<meta name="date" content="2019-03-29" />

<title>DSAIDE Package Tutorial</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">@charset "utf-8";article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {display: block;}html {margin: 0;padding: 0; border: 0;font-size: 100%;font-family: Arial, Helvetica, sans-serif;vertical-align: baseline;background-color: #fff;  color: #403c3d; }body { display: block;width: 100%;height: 100%;max-width: 900px;min-width: 300px;margin-left: auto;margin-right: auto;margin-top: 0;margin-bottom: 0;padding-left: 20px;padding-right: 20px;padding-top: 0px;background-color: #fff;}#content {height: auto;min-height: 490px;padding-bottom: 1em;}.row {overflow:hidden;margin-bottom: 1em;}.floatright {float: right;padding: 5px;}.floatleft {float: left;padding: 5px;}.center {display: block;overflow:hidden;margin: auto;text-align: center;}hr {clear: both;background-color: #333; }#footer {position: relative;clear: both;width: 100%;max-width: 900px;margin-left: -20px;margin-right: -20px;padding-left: 20px;padding-right: 20px;font-size: 80%;border-top: 1px solid #403c3d; border-bottom: 10px solid #403c3d; }h1, h2, h3 {font-family: inherit;}h1 {margin-top: 0;margin-left: -20px;margin-right: -20px;padding-top: 0;padding-left: 20px;padding-right: 20px;line-height: 2em;background-color: #403c3d; color: #fff;}img {max-width: 80%;padding: 3px;}.image {display: inline-block;margin-top: 5px;margin-left: 5px;margin-right: 5px;max-width: 80%;padding: 0; text-align: center;border-radius: 5px;border: 1px solid #ccc; }.figure {margin: auto;max-width: 80%;padding: 0; text-align: center;border-radius: 5px;border: 1px solid #ccc; }.caption {padding: 0;margin: auto;margin-bottom: 6px;}a {font-weight:800;}a:focus {border: 2px solid #ccc; }p {line-height: 1.4em;}strong {font-weight: bold;}em {font-style: italic;}blockquote {quotes: "\201C""\201D""\2018""\2019"; margin: 1.5em 1em;padding: 0.5em 1em;font-style: italic; background: #F9F9F9; border-left: 10px solid #ccc; }blockquote:before {content: open-quote;margin-right: 0.2em;vertical-align: -0.4em;font-family: Arial, Helvetica, sans-serif;font-size: 5em;font-weight:800;line-height: 0.1em;color: #ccc;}blockquote cite {display: block;margin-top: 5px;font-size: 0.9em;color: #333; } blockquote cite:before {content: "\2014 \2009"; }pre {padding: 20px;font-family: "Courier New", Courier, monospace;background-color: #f9f9f9; border: 1px solid #ccc; }cite {font-style: italic;}ul, ol {overflow: hidden;line-height: 1.2em;}dl {}li, dt, dd {padding: 5px;}ul li {}table {margin: 20px;border-spacing: 0;width: 100%;min-width: 100%;}table th { height: 36px;padding: 5px;font-size: 16px;line-height: 36px;background-color: #403c3d;color: #fff;border: 1px solid #ccc; border-bottom: 0;}table thead th:empty {background: transparent;border: none;}table caption {font-weight: bold;}tr:nth-child(2n+1) {background-color: #f9f9f9; color: #000; }table td {padding: 5px;border-collapse: collapse;border: 1px solid #ccc; }@media print {* {color: #000 !important;text-shadow: none !important;background: transparent !important;box-shadow: none !important;}html, body {width: 98%;margin: 0;border-bottom: 0;padding: 0;height: auto !important;}#content {height: auto;min-height: 0;padding: 0;}a[href]:after {content: " [" attr(href) "]";}abbr[title]:after {content: " [" attr(title) "]";}a[href*="javascript:"]:after,a[href*="#"]:after {content: "";}pre,blockquote {page-break-inside: avoid;}blockquote {min-height:0; margin:0; }thead {display: table-header-group; }tr,img {page-break-inside: avoid;}img {max-width: 50% !important;}h1 {line-height: 1em;background-color: #FFF;text-align: center;}p,h2,h3 {orphans: 3;widows: 3;}h2,h3 {page-break-after: avoid;} @page {margin: 1em;}}html {background-color: #fff;  color: #403c3d; }body { background-color: #fff;}hr {background-color: #333;}#footer { border-top: 1px solid #123c66; border-bottom: 10px solid #123c66; }h1 {background-color: #123c66; text-align: center;color: #fff;}h2 {margin-top: 2.5em;color: #123c66; }h3 {margin-top: 2em;color: #3388CC; }h4 {color: #3388CC; }h4 {margin:0;padding:0;}.image {border-radius: 5px;border: 1px solid #ccc; }a {color: #1b63a8;  }a:visited {color: #123c66;  }a:hover {color: #a3dce9; }a:focus {border: 2px solid #ccc;}blockquote { border-left: 10px solid #123c66; }blockquote:before {color: #123c66; }pre {background-color: #f4f4f4; border: 1px solid #ccc; }table th { color: #fff;border: 1px solid #aaa;background: #1c60a8; background: -moz-linear-gradient(top, #1c60a8 0%, #123c66 100%); background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#1c60a8), color-stop(100%,#123c66)); background: -webkit-linear-gradient(top, #1c60a8 0%,#123c66 100%); background: -o-linear-gradient(top, #1c60a8 0%,#123c66 100%); background: -ms-linear-gradient(top, #1c60a8 0%,#123c66 100%); background: linear-gradient(to bottom, #1c60a8 0%,#123c66 100%); filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#1c60a8', endColorstr='#123c66',GradientType=0 ); }tr:nth-child(2n+1) {background-color: #f9f9f9; color: #000;}table td {border: 1px solid #ccc; }.author{text-align: center;}.date{text-align: center;}#mylicense{text-align: center;font-size: 70%;}iframe {display: block;margin-left: auto;margin-right: auto;}#mytextbox{border: 10px solid #cfd7e0; color: black; font-weight: normal;}.MathJax {font-size: .15em;}</style>




</head>

<body>




<h1 class="title toc-ignore">DSAIDE Package Tutorial</h1>
<h4 class="author"><a href="http://handelgroup.uga.edu">Andreas Handel</a></h4>
<h4 class="date">2019-03-29</h4>



<div id="summary" class="section level2">
<h2>Summary</h2>
<p><em>Dynamical Systems Approaches to Infectious Disease Epidemiology (DSAIDE)</em> is an R package that allows you to explore and study concepts of infectious disease epidemiology using dynamical systems models, without the need to read or write computer code. The package also provides a path toward using and building your own models by relatively seamlessly moving from the graphical user interface to direct interaction with pre-written simulations all the way to modifying the underlying simulations to fit your needs. The different use cases for the package are described below.</p>
</div>
<div id="package-description" class="section level2">
<h2>Package description</h2>
<p>The package consists of several simulations/apps that allow for the simulation and exploration of different topics in infectious disease epidemiology.</p>
<p>The underlying models are written as compartmental dynamical models, either deterministic using differential equations (deSolve package) or stochastic using a Gillespie-type approach (adaptivetau package). A graphical user interface is wrapped around each simulation/app. The graphical user interface is written using the functionality of the R Shiny package. This allows exploration of models and infectious disease epidemiology concepts without the need to write any code. At the same time, the package is structured in a way that should allow those interested in the actual models and learning R coding to easily move from one stage to another.</p>
<p>Each app is meant to be fully self-explanatory and contains a description of the model, a list of tasks the user could try, and further information on background reading and other resources.</p>
</div>
<div id="intended-audience-and-goal-of-the-package" class="section level2">
<h2>Intended audience and goal of the package</h2>
<p>The audience for this app consists individuals interested in infectious disease epidemiology from a <em>systems/modeling perspective</em>. For instance the apps allow exploration of concepts such as <em>patterns of infectious disease incidence</em>, <em>reproductive number concept</em>, <em>extinctions and critical community size</em>, etc. All these concepts are not well described by applying classical epidemiology approaches (i.e. assuming independence between individuals) to infectious diseases, but can readily by understood using a systems/modeling approach.</p>
<p>While the package was written as a component of a course on infectious disease epidemiology/modeling, the documentation for each app tries to be fairly complete and self-contained. This should allow you to get some understanding of the topics and models without requiring additional information. However, the information provided inside each app is not sufficient to get a very thorough understanding. If you use this package on your own without taking a class on the topc, it might be possible to learn the material covered by the apps in depth by working through some of the references provided for each app or general infectious disease modeling textbooks (e.g. <span class="citation">(Keeling and Rohani 2008; Vynnycky and White 2010; Bjørnstad 2018)</span>).</p>
</div>
<div id="installing-the-package" class="section level2">
<h2>Installing the package</h2>
<p>The package can be installed from CRAN or Github. See the documentation on the <a href="https://ahgroup.github.io/DSAIDE/">package page</a> for more details.</p>
<p>Package installation is a one-time process, unless R itself is being upgraded/reinstalled. Note that the package depends on other packages, which will also be installed as needed.</p>
</div>
<div id="using-the-package" class="section level2">
<h2>Using the package</h2>
<p>The following sections describe the main envisioned ways the content in this R package can be used and extended. The idea is that you start at level 1, and then depending on needs and interests, you can decide to move on to the next level.</p>
<div id="level-1-interactive-use-through-the-graphical-user-interface" class="section level3">
<h3>Level 1: Interactive use through the graphical user interface</h3>
<p>The interactive exploration of the models and infectious disease concepts through the graphical user interface is the main intended use of this package. The steps to get there are simple.</p>
<div id="load-and-run-the-package" class="section level4">
<h4>Load and run the package</h4>
<p>Every time a new R/Rstudio session is started, the package needs to be loaded:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(<span class="st">&#39;DSAIDE&#39;</span>)</a></code></pre></div>
<p>followed by starting the main menu for the package:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">dsaidemenu</span>()</a></code></pre></div>
<p>This will bring up a graphical menu from which you can select each app. Each app contains the information needed to understand the underlying model, and has a list of (non exhaustive) suggested tasks to learn about the topic covered by the app. After exploring an app, you can return to the main menu and move on to another app, or eventually exit the main menu and close the R session. No code needs to be written at this level of exploration and learning.</p>
</div>
</div>
<div id="level-2-directly-interacting-with-the-simulation-functions" class="section level3">
<h3>Level 2: Directly interacting with the simulation functions</h3>
<p>Once you are comfortable interacting with the models and have a good understanding of the concepts covered by the different apps, it is possible, without too much effort, to interact with the code more directly. This will provide more flexibility but will require writing some code.</p>
<p>To facilitate direct interaction and modification of the underlying simulations, each app is structured in such a way that the underlying model/simulation is a stand-alone function. For some apps, there are multiple underlying functions involved. You can call any of these functions directly, without going through the graphical interface. The ‘Further Information’ tab inside each app provides the name of the corresponding underlying function(s).</p>
<p>Consider as example the first app, called “ID Dynamics Intro”. The simulator function for this model is called <code>simulate_sir_ode.R</code>. After loading the package (if not already loaded) with</p>
<pre><code>## Loading required package: shiny</code></pre>
<pre><code>## Welcome to the DSAIDE package. Type dsaidemenu() to get started.</code></pre>
<p>you can learn about the inputs and outputs of the function by looking at its documentation</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">help</span>(<span class="st">&#39;simulate_sir_ode&#39;</span>)</a></code></pre></div>
<p>The help file explains that you can run the simulation by specifying initial number of susceptibles and infected, the duration for which the simulation should be run, and the infection and recovery parameters. Each parameter has some default, listed in the help file. Running a simulation model without any specifications runs it with the defaults:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">result &lt;-<span class="st"> </span><span class="kw">simulate_sir_ode</span>()</a></code></pre></div>
<p>Calling the simulation function execuctes the underlying dynamical model (here a simple 3 compartment ODE model, as described in the “Model” section of the app). Most simulation functions produce and return time-series for the dynamics of each of the variables that are tracked as a list. You can then take the results returned from the simulation function and further process them. For instance you could plot the time-series for susceptible as function of time:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">plot</span>(result<span class="op">$</span>ts[ , <span class="st">&quot;time&quot;</span>],result<span class="op">$</span>ts[ , <span class="st">&quot;S&quot;</span>],<span class="dt">xlab=</span><span class="st">&#39;Time&#39;</span>,<span class="dt">ylab=</span><span class="st">&#39;Number Susceptible&#39;</span>,<span class="dt">type=</span><span class="st">&#39;l&#39;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>You can overwrite the default settings by providing your own values for specific parameters, as shown in this example:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">result &lt;-<span class="st"> </span><span class="kw">simulate_sir_ode</span>(<span class="dt">S =</span> <span class="dv">2000</span>, <span class="dt">b =</span> <span class="fl">0.001</span>, <span class="dt">g =</span> <span class="fl">0.5</span>, <span class="dt">tfinal =</span> <span class="dv">200</span>)</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">plot</span>(result<span class="op">$</span>ts[ , <span class="st">&quot;time&quot;</span>],result<span class="op">$</span>ts[ , <span class="st">&quot;S&quot;</span>],<span class="dt">xlab=</span><span class="st">&#39;Time&#39;</span>,<span class="dt">ylab=</span><span class="st">&#39;Number Susceptible&#39;</span>,<span class="dt">type=</span><span class="st">&#39;l&#39;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Any values that you do not specify will be kept at their defaults.</p>
<p>Note that unless explicitly specified, the models do not have inherent time units. Instead, those depend on the time units you choose for the parameters. It is important to ensure that all quantities (parameters and time settings) have the same time units, e.g. days or months (or the inverse of those units for the rate parameters).</p>
<p>Not all simulator functions return time-series. The help file for each function will tell you what is returned.</p>
<p>The ability to call the simulation functions directly instead of going through the graphical interface allows additional exploration of the models. For instance if you wanted to explore the behavior of a model systematically for different values of a given parameter, this would need to be done manually if run through the graphical interface. Calling the function directly allows you to automate this by wrapping the function inside a loop over the parameter of interest, recording some quantity of interest for each run, and report the result at the end. The following is a simple example, showing a loop over different values of the recovery rate and recording the peak of the outbreak each time, with the final result <em>peak of outbreak as function of recovery time</em> shown in a plot:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">gvec =<span class="st"> </span><span class="kw">seq</span>(<span class="fl">0.01</span>,<span class="fl">0.3</span>,<span class="dt">by=</span><span class="fl">0.01</span>) <span class="co">#values of recovery rate, g, for which to run the simulation </span></a>
<a class="sourceLine" id="cb9-2" title="2">peak =<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>,<span class="kw">length</span>(gvec)) <span class="co">#this will record the peak values for each g</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="cf">for</span> (n <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(gvec))</a>
<a class="sourceLine" id="cb9-4" title="4">{</a>
<a class="sourceLine" id="cb9-5" title="5">  <span class="co">#call the simulator function with different values of g each time</span></a>
<a class="sourceLine" id="cb9-6" title="6">  result &lt;-<span class="st"> </span><span class="kw">simulate_sir_ode</span>(<span class="dt">S =</span> <span class="dv">500</span>, <span class="dt">b =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">2500</span>, <span class="dt">g =</span> gvec[n],  <span class="dt">tfinal =</span> <span class="dv">200</span>)</a>
<a class="sourceLine" id="cb9-7" title="7">  peak[n] &lt;-<span class="st"> </span><span class="kw">max</span>(result<span class="op">$</span>ts[,<span class="st">&quot;I&quot;</span>]) <span class="co">#record max number of infected for each value of g</span></a>
<a class="sourceLine" id="cb9-8" title="8">}</a>
<a class="sourceLine" id="cb9-9" title="9"><span class="co">#plot final result</span></a>
<a class="sourceLine" id="cb9-10" title="10"><span class="kw">plot</span>(gvec,peak,<span class="dt">type=</span><span class="st">&#39;p&#39;</span>,<span class="dt">xlab=</span><span class="st">&#39;Rate of recovery&#39;</span>,<span class="dt">ylab=</span><span class="st">&#39;Max number of infected&#39;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Thus, you can add your own custom code to the existing simulator functions and with a few lines of extra code analyze and explore many more questions and scenarios than those accessible through the graphical interface. This provides a lot more flexibility, but requires writing some R code to interface with the supplied simulator functions.</p>
</div>
<div id="level-3-modifying-the-simulation-functions" class="section level3">
<h3>Level 3: Modifying the simulation functions</h3>
<p>Level 2 provides you with some flexibility, but the main constraint is that only pre-written, existing models can be used and analyzed. This constraint can be overcome by directly modifiying and customizing the underlying simulation functions. As was true for moving from level 1 to 2, this move from level 2 to what I call level 3 provides further (almost unlimited) flexibility at the cost of having to write increasingly more <code>R</code> code.</p>
<p>To make modifying the existing functions easy, copies of all simulator functions are provided in a folder called <em>simulatorfunctions</em> which can be downloaded as a zip file from the main menu. Each function in that folder starts with <code>simulate_</code>. The <em>Further Information</em> section in each app tells you which simulator function goes with which app.</p>
<p>The code for each simulator function is (hopefully) well documented. Some basic to intermediate level of <code>R</code> coding experience is likely required to successfully modify the functions. In addition to modifying the simulator function of interest, you will likely also have to write some additional code to interact with their modified function (as described in <em>Level 2</em>).</p>
<p>The following provides a simple example of this process of modifying a simulator function and exploring its results. Assume that we want to modify the simple SIR model encoded in <code>simulate_sir_ode.R</code>. After getting the file and making a copy (let’s call the modified function <code>mysimulator.R</code>), we can make modifications. Say we want to include waning immunity with recovered returning to the susceptible class at rate <em>w</em>.</p>
<p>We will need to modify the following lines of code:</p>
<p>old:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">simulate_sir_ode &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">S =</span> <span class="dv">1000</span>, <span class="dt">I =</span> <span class="dv">1</span>, <span class="dt">R =</span> <span class="dv">0</span>, <span class="dt">b =</span> <span class="fl">0.002</span>, <span class="dt">g =</span> <span class="dv">1</span>, <span class="dt">tstart =</span> <span class="dv">0</span>, <span class="dt">tfinal =</span> <span class="dv">100</span>, <span class="dt">dt =</span> <span class="fl">0.1</span> ) </a></code></pre></div>
<p>new:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">mysimulator &lt;-<span class="st"> </span><span class="cf">function</span>( <span class="dt">S =</span> <span class="dv">1000</span>, <span class="dt">I =</span> <span class="dv">1</span>, <span class="dt">R =</span> <span class="dv">0</span>, <span class="dt">b =</span> <span class="fl">0.002</span>, <span class="dt">g =</span> <span class="dv">1</span>, <span class="dt">w =</span> <span class="dv">0</span>, <span class="dt">tstart =</span> <span class="dv">0</span>, <span class="dt">tfinal =</span> <span class="dv">100</span>, <span class="dt">dt =</span> <span class="fl">0.1</span> ) </a></code></pre></div>
<p>old:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">pars =<span class="st"> </span><span class="kw">c</span>(<span class="dt">b =</span> b, <span class="dt">g =</span> g)</a></code></pre></div>
<p>new:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">pars =<span class="st"> </span><span class="kw">c</span>(<span class="dt">b =</span> b, <span class="dt">g =</span> g, <span class="dt">w =</span> w)</a></code></pre></div>
<p>old (ignoring comments present in the code):</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1">dS =<span class="st"> </span><span class="op">-</span>b<span class="op">*</span>S<span class="op">*</span>I</a>
<a class="sourceLine" id="cb14-2" title="2">dI =<span class="st"> </span>b<span class="op">*</span>S<span class="op">*</span>I <span class="op">-</span>g<span class="op">*</span>I</a>
<a class="sourceLine" id="cb14-3" title="3">dR =<span class="st"> </span>g<span class="op">*</span>I</a></code></pre></div>
<p>new:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1">dS =<span class="st"> </span><span class="op">-</span>b<span class="op">*</span>S<span class="op">*</span>I <span class="op">+</span>w<span class="op">*</span>R</a>
<a class="sourceLine" id="cb15-2" title="2">dI =<span class="st"> </span>b<span class="op">*</span>S<span class="op">*</span>I <span class="op">-</span>g<span class="op">*</span>I</a>
<a class="sourceLine" id="cb15-3" title="3">dR =<span class="st"> </span>g<span class="op">*</span>I <span class="op">-</span>w<span class="op">*</span>R</a></code></pre></div>
<p>Note that if we wanted to share this function with others, we would need to also update the function documentation at the start of the file. For personal use of the function, this is a good idea but not required.</p>
<p>We could now for instance explore how different rates of waning immunity impact the maximum peak size over all outbreaks. This requires a slight modification of the code shown above in <em>Level 2</em> as follows:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">source</span>(<span class="st">&#39;mysimulator.R&#39;</span>) <span class="co">#to initialize the new function - it needs to be in same directory as this code</span></a>
<a class="sourceLine" id="cb16-2" title="2">wvec =<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dt">by=</span><span class="fl">0.02</span>) <span class="co">#values of immunity loss rate, w, for which to run the simulation </span></a>
<a class="sourceLine" id="cb16-3" title="3">peak =<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>,<span class="kw">length</span>(wvec)) <span class="co">#this will record the peak values for each g</span></a>
<a class="sourceLine" id="cb16-4" title="4"><span class="cf">for</span> (n <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(wvec))</a>
<a class="sourceLine" id="cb16-5" title="5">{</a>
<a class="sourceLine" id="cb16-6" title="6">  result &lt;-<span class="st"> </span><span class="kw">mysimulator</span>( <span class="dt">S =</span> <span class="dv">1000</span>, <span class="dt">I =</span> <span class="dv">1</span>, <span class="dt">R =</span> <span class="dv">0</span>, <span class="dt">b =</span> <span class="fl">1e-3</span>, <span class="dt">g =</span> <span class="fl">0.5</span>, <span class="dt">w =</span> wvec[n], <span class="dt">tstart =</span> <span class="dv">0</span>, <span class="dt">tfinal =</span> <span class="dv">300</span>, <span class="dt">dt =</span> <span class="fl">0.1</span>)</a>
<a class="sourceLine" id="cb16-7" title="7">  peak[n] &lt;-<span class="st"> </span><span class="kw">max</span>(result<span class="op">$</span>ts[,<span class="st">&quot;I&quot;</span>])</a>
<a class="sourceLine" id="cb16-8" title="8">}</a>
<a class="sourceLine" id="cb16-9" title="9"><span class="kw">plot</span>(wvec,peak,<span class="dt">type=</span><span class="st">&#39;p&#39;</span>,<span class="dt">xlab=</span><span class="st">&#39;Rate of waning immunity&#39;</span>,<span class="dt">ylab=</span><span class="st">&#39;Max number of infected&#39;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAAflBMVEUAAAAAADoAAGYAOjoAOpAAZrY6AAA6ADo6AGY6Ojo6OpA6kLY6kNtmAABmADpmOpBmZgBmZmZmtrZmtttmtv+QOgCQOmaQZgCQkGaQtpCQ27aQ2/+2ZgC2kDq2tma225C2///bkDrb2//b/7bb////tmb/25D//7b//9v////eqzS8AAAACXBIWXMAAA7DAAAOwwHHb6hkAAALPElEQVR4nO2dDX+kJhCHvWs2d71u0vaa9C22je25G77/F6y8qOAuDgODsGb+7SXrb3nRJ8MwIGIjWKtqSp9A7WJAgBgQIAYEiAEBYkCAGBAgBgSIAQFiQIAYECAGBIgBAWJAgBgQIAYEiAEBYkCAGBAgBgSIAQFiQIAYECAGBIgBAWJAgBgQIAYEiAEBYkCAGBAgBgSIAQFiQIAYECAGBIgBAWJAgBgQIAYEiAEBYkCAGBAgBgSIAQFiQIAYECAGBIgBAWJAgBgQIAYESAM6PzSTPr4WPqW6NFtQ3xzlzw8v5U6mRk2A3p4P6nd3963YydSoCdD54Un97rmJObIs6Kh+t2xBjmwfJE2oYx/kyurmVVfG9rMQx0GAGBAgt4ndfWuP5c6lSllO+sPLEAOdH5iQI6ebl0Fix3GQIydQlIA4UHR1YUEcKLpa+qCueSp4NhVqGShyIL0Qx0GAZif9qG2HnbSrC0DczbsygNp5ypUDRUcXFsRyxU4akAVIhog9t7CFZkA6hD4/HMqdTI3iSXtAF5P2ad18czNCAxJ6FHa6T3JC9ft8wyYC0MCmSR6LVQ+osf4FZyCuv2LN5sOALiXpNKP5xACimLSvFpCh04x0IgCRTNrXCmiiYxlRaE4jmkn7KgE1tuFE92I0k/b1AWomw5nNR6RYUNqkfXWAGve/KUCM9kGJk/aVAWqM6Rj/Y51dZC+2q0DR7bgWg4t3HwdZdCzPY30fXJD6OXhomhnFWgC5dK4MTdGAjnsCNLkeDx2Bb2LdPA9w+938euMa0wQXZrQbC2rsoMc77/NenfQ4IF2nI6IAvT3ffhOb+3VozjACUEsxGV0S0DTkWnE9c+LgUscPNGvvigGyh1yg+YjYwWq6SgFaDLlCMgSXbDQ+zJKmMoD8Qy5/luCyp089xdqyIoBWhlwreYILN5qeqYvx1fjbTXRy4p7wXOQJixQXVGNQ3HOZjTphkeLg+hAdl5uRPGGR4oDKGlTH5ebFJZSj+RQfhK+XQOFh89XM1AmLFLdWU5RvnrOTJyxS3FpFCeYj9g4INeryFEGesEhx3kqM8USaj9g1oGaEE09H7HnSvhnhpFW210l7azo+bViz00n7+MDwsiRswhuwoOhxxbWyyBMWKW5RNpX5iDhAdS/ipDQfETlhJiela13dQWo+Im7K1SwkX1sfBN4aygSI2HxEyqT92gqzbnzUxfvMSx5A1OYjMlnQmGQlVQ5A9OYjMvkg686Qz84yAMpgPiJTL1bCgrKYj8gVB03mtZkPymM+IlugOM7Lev0U7V95Wt9Mfz9pD5G0Pe1DWOxUOHHCrYujmfbxF0+eUIwLQPpNAkWiaZ+V8rEJrS7KJwVI9V/epSBUcS7VtI+/BnTCgOUvEpBJlrebz9Z32VWgE8JPsUhAp/unK4lJFy/kCn3cStAJA+6sbmNBG5iPyOakJcCDWFmvl35N+UKfZTXECbUGRsNgxL+BRfpUaL7Qx60nImENz6xOvXv22yP4hBU8s7qV+YjYOAh8ZlXeHdJOOsd0x2bmI2LjIOiZVbnZtN4eJgMg+xGd/Iq3oJVnVnWw/fa8Ymfx17ZN725Vh04IP7M6BtsDQ3JAG/Xudn3ohOAzq9NwrT1QA9rQPZsKyRNKjVgGlLSAtnTPY43UCZXGBvj2TAhIY9nSfERCE0vcCzjiEs2sz5bmIyJv+xC8NgJ9jfPE4Zb2kzJhtu3WFLknDlcqxiak2QUPeZVTYLj5YzAxFkTx8iPcZW7euVtV4xOSvD4LdaXbd+523aiEZC9gQ1xqQfMRt3BfrKT5iBsA1Fj/l1AEoLGZbdLEyrYvEdeLUbxQI7Dewu1LpMRBG9Rb3HxESiSdv97y5iOifNDpE8FS+4B6S7vn6SywCdUKvPxOuob2JVKGGnHVBd+br6J9iWqddCXmI2p10rWYj6jUSdfhnqdzQSbMvrFAkalnr+obi5WZevaqOkDqi+1nVr2qrYkZu6nEfESCBSW+mMVT7+h5asGT0sTapK3MrtZbT/QzKx4Q/V2NiqKfWfGAyDf9ryn6mRUNKPH1WZf11ti+REovljaveFFvle1L1BMH1RQ8O6oEUFNT8OwoAlCG7ZLrC38mRQAK2S4Zt7FAte1LxDlpeD4It7FAve1LZJpRxD0WXnH7EpnmpFEbC9TcvkSUD4K3S8ZYUNXtS+Sa7gjfWKDu9iWyxUFhGwvUNbl6XSUDxcomV6+rIKDReipuXyIToLCNBWqbfb6ufIDAjQV0iVW3LxEVB/0Lpg18LLz21qUU083rQPHtV283H7qxQO3WIxUVKMol0l3xjQW2UYwP0kP1lSFryMYCN6MIQIoQMNyANha4LDTi+7SvU7P7k7dN88tz6gNjQedwk4AG29BRDsFrxvYJ6EdtOiu9GL7QuO/rBESpfQKCH0UIfiZon4DkdgGHMRC8Lu/DzshzuElAMrTp5aYT69slB92Y3imgJ3H6/Kr++RX2GrtdApITznLj/3VA708zT7nupT0mPtS7P9mR9GFlU453q5sZfpcSAwKkAY2LEsAQ8P3JWND5IfGNI7uV1c0DkzzvVLYParl5Xcp10h04pfjutOzFTvdsRY4cQLIzYz6uLEDynjI3sKUmQK2+oZOi3t6GsUe/q2yZA7lZmJO9I/tjN2OB6U1L7s007c/kHOCzy2PcDRYne6fuTZEQoouk9QI98zSVc4DPLszu1tG1H5C1+0U3FtOTteZhIecAn11+uvsNA8jJXikg9Vi5WdXgHOCzq0OUD3KzkzcxCmkHYNyAc4DPrloMCtCiQnwX4VOlgICdraHs8rGK0z3J2LLOJqYO4psY3gP6VaeTHt+sHO5FnOx4+/WLDhBxN4+0ICe7ppX4hLsR4ZQrcaCIjKSd7FX6INUw5BnqKKRD9yNOdoEeajjZh4ET0fwfT9oDYkCAGBAgBgSIAQFiQIAYECAGBIgBAWJAgBgQIAYEiAEBYkCAGBAgBgSIAQFiQIAYECAGBIgBAWJAgBgQIAYEiAEBYkCAGBAgakDjclDnxnjvXcbSwbfQvbtd4d5GpFL7T8QrekBq6YGzQNB/JSEbyBIq5gVPmQA5D9ivAdp0aX9FgPTalVYtEpNvdpM7FtgNr1cH8hu5ykllUkYns+lcw9V8fZAf5FWNn1WRH37X62rUk/738oujLGhxoGAMP6xi1In8ptbmhK/symlBcr2XXJCrzlV+mNY09eqMD9OftFMAD3px65Rr+DF80ID0Z7Uyqm9sQPILSbn7+OoczIDsYp7UurO353BLygRI7voqtylQq+H0uandicaF3ua10tMryuW1/3z37fTpxcp1VB+m3MNnvbautQGpL8ZvrYMZkF2M/od5U1iuXmzaFddYu14dZ7ZO0b/Gq9DXen784/OrAdi7bWT+rL/vbUBPYvrhHNjZnWIGC8VsnpDFgk73xoyaj/8YC+rtdasa0Hj2Uu3x9OW/xxfVvKxcS0AdAaABcovoO/M0MbUL3HS+swUZXVjQ8Df96yDaH56f3Fw5LOj8+OcjYvFkJh8k3YS6mr6Zm76VaOGDxOnzT0fRffdpkWsJyKyGDgO09EWmmLfn7zGrQzMBOj8MHleZQXM0e8DKqzLu9aIX092UekLMynUJ6Eov5gMk3109OMQFIPmH6VDrX3PFQfIs1MJcyaQd46BpabeOgyy7mlc2j7muApJx0Me/dTHrgNSGYl/dJqZPBPe2y1scrCYuoT99way/vi1AyjxSB3AdKvttAdLRQtL47XSPW8B/Y4C2FwMCxIAAMSBADAgQAwLEgAAxIEAMCBADAsSAADEgQAwIEAMCxIAAMSBADAgQAwLEgAAxIEAMCND/HKwqTLDsK4MAAAAASUVORK5CYII=" /><!-- --></p>
<p>For most users and especially novice coders, it is likely best to start with one of the provided models and modify as needed. However, at this level, you have essentially full control and are only limited by what can be accomplished using the <code>R</code> programming language and their ability and interest in writing customized code.</p>
</div>
</div>
<div id="contributing-to-the-package" class="section level2">
<h2>Contributing to the package</h2>
<p>The package is on GitHub and you can use the usual GitHub process to file bug reports, send feature requests, contribute updates and bug fixes, etc. If you have any comments or feedback, I very much welcome them. Please file a <a href="https://github.com/ahgroup/DSAIDE/issues">GitHub issue</a> and let me know what you think.</p>
<p>The package is built in a way that makes it (hopefully) easy for others to contribute new simulations/apps. To that end, the package contains <a href="https://github.com/ahgroup/DSAIDE/blob/master/inst/docsfordevelopers/documentation.md">this Markdown file</a> which provides further information on the details of the package structure. If you plan to develop new apps, or make other substantial contributions, it’s best to get in touch with me first via email or GitHub.</p>
</div>
<div id="further-information" class="section level2">
<h2>Further information</h2>
<ul>
<li><a href="https://doi.org/10.1371/journal.pcbi.1005642">I published a paper describing the package and how to use it</a>. The package structure has changed since the paper was published, but it still describes the overall idea and context well, if you are interested in that.<br />
</li>
<li>A ‘companion’ package to this one, called Dynamical Systems Approaches for Immune Respone Modeling (DSAIRM), focuses on models for analyzing with-host infection dynamics. It has the same structure as DSAIDE. <a href="https://ahgroup.github.io/DSAIRM">See the DSAIRM site for more information.</a></li>
<li>I have solutions (as R Markdown files) to most of the ‘What to do’ tasks for the different apps. If you are an instructor using this package as part of a class, email me if you are interested in having access to these solutions.</li>
</ul>
</div>
<div id="contributors" class="section level2">
<h2>Contributors</h2>
<p>This R package is developed and maintained by <a href="http://handelgroup.uga.edu/">Andreas Handel</a>. A full list of contributors <a href="https://ahgroup.github.io/DSAIDE/authors.html">can be found here</a>.</p>
</div>
<div id="citation" class="section level2">
<h2>Citation</h2>
<p>If the package does in any way help you with your work such that it warrants citing in one of your papers, please cite <a href="https://doi.org/10.1371/journal.pcbi.1005642">the DSAIDE publication in PLoS Comp Bio</a>.</p>
</div>
<div id="references" class="section level2 unnumbered">
<h2>References</h2>
<div id="refs" class="references">
<div id="ref-bjoernstad18">
<p>Bjørnstad, Ottar N. 2018. <em>Epidemics: Models and Data Using R</em>. Use R! Springer International Publishing. <a href="https://www.springer.com/la/book/9783319974866">https://www.springer.com/la/book/9783319974866</a>.</p>
</div>
<div id="ref-keeling08">
<p>Keeling, Matt J, and Pejman Rohani. 2008. <em>Modeling Infectious Diseases in Humans and Animals</em>. Princeton University Press.</p>
</div>
<div id="ref-vynnycky10">
<p>Vynnycky, Emilia, and Richard White. 2010. <em>An Introduction to Infectious Disease Modelling</em>. Oxford University Press.</p>
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
